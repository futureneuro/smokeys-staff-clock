(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,i)=>{t.exports=e.r(76562)},72906,e=>{"use strict";var t=e.i(43476),i=e.i(71645),a=e.i(18566);function n(){let n=(0,a.useRouter)(),[l,s]=(0,i.useState)(""),[o,d]=(0,i.useState)(""),[p,c]=(0,i.useState)(""),[x,u]=(0,i.useState)(!1);async function f(t){if(t.preventDefault(),!l.trim()||!o.trim())return void c("Please enter your Admin ID and PIN.");u(!0),c("");try{let{supabase:t}=await e.A(60959),{data:i,error:a}=await t.from("staff").select("*").eq("staff_code",l.trim().toUpperCase()).eq("role","admin").eq("active",!0).single();if(a||!i){c("Invalid Admin ID or insufficient permissions."),u(!1);return}let{data:r}=await t.rpc("verify_pin",{p_staff_id:i.id,p_pin:o.trim()});if(!r){c("Invalid PIN."),u(!1);return}sessionStorage.setItem("admin_session",JSON.stringify({id:i.id,name:i.name,staff_code:i.staff_code,loginAt:new Date().toISOString()})),n.push("/admin/dashboard")}catch{c("Network error. Please try again.")}finally{u(!1)}}return(0,t.jsx)("div",{style:r.container,children:(0,t.jsxs)("div",{style:r.card,className:"animate-fadeIn",children:[(0,t.jsxs)("div",{style:r.logoSection,children:[(0,t.jsx)("span",{style:r.catEmoji,children:"ðŸˆâ€â¬›"}),(0,t.jsx)("h1",{style:r.title,children:"SMOKEY'S"}),(0,t.jsx)("p",{style:r.subtitle,children:"Admin Portal"})]}),(0,t.jsxs)("form",{onSubmit:f,style:r.form,children:[(0,t.jsxs)("div",{style:r.inputGroup,children:[(0,t.jsx)("label",{style:r.label,children:"Admin ID"}),(0,t.jsx)("input",{type:"text",className:"input-field",placeholder:"e.g. ADMIN01",value:l,onChange:e=>s(e.target.value.toUpperCase()),autoCapitalize:"characters",autoComplete:"off",disabled:x})]}),(0,t.jsxs)("div",{style:r.inputGroup,children:[(0,t.jsx)("label",{style:r.label,children:"PIN"}),(0,t.jsx)("input",{type:"password",className:"input-field",placeholder:"Enter your PIN",value:o,onChange:e=>d(e.target.value.replace(/\D/g,"").slice(0,6)),inputMode:"numeric",maxLength:6,autoComplete:"off",disabled:x})]}),p&&(0,t.jsxs)("div",{style:r.errorBanner,className:"animate-fadeIn",children:[(0,t.jsx)("span",{children:"âš ï¸"})," ",p]}),(0,t.jsx)("button",{type:"submit",className:"btn-primary",disabled:x,style:{marginTop:8},children:x?"Signing in...":"Sign In"})]}),(0,t.jsx)("a",{href:"/",style:r.backLink,children:"â† Back to Clock"})]})})}let r={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",background:"linear-gradient(180deg, #111111 0%, #0a0a0a 100%)"},card:{width:"100%",maxWidth:"400px",background:"#1a1a1a",borderRadius:"24px",padding:"40px 28px",border:"1px solid #2a2a2a",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},logoSection:{textAlign:"center",marginBottom:"32px"},catEmoji:{fontSize:"48px",display:"block",marginBottom:"8px"},title:{fontSize:"28px",fontWeight:900,color:"#f0b427",letterSpacing:"4px",margin:0},subtitle:{fontSize:"14px",color:"#666",letterSpacing:"2px",textTransform:"uppercase",marginTop:"4px"},form:{display:"flex",flexDirection:"column",gap:"16px"},inputGroup:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"13px",fontWeight:600,color:"#999",textTransform:"uppercase",letterSpacing:"1px"},errorBanner:{padding:"12px 16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"12px",color:"#ef4444",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},backLink:{display:"block",textAlign:"center",marginTop:"24px",fontSize:"13px",color:"#666",textDecoration:"none"}};e.s(["default",()=>n])},60959,e=>{e.v(t=>Promise.all(["static/chunks/20cf968fc9db2554.js"].map(t=>e.l(t))).then(()=>t(7471)))}]);